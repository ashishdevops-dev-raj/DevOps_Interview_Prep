# Docker Interview Questions

## Easy Level (Questions 1-35)

### 1. What is Docker?
Docker is a platform for developing, shipping, and running applications using containerization. It packages applications and their dependencies into containers that can run consistently across different environments.

### 2. What is a container?
A container is a lightweight, standalone, executable package that includes everything needed to run an application: code, runtime, system tools, libraries, and settings.

### 3. What is the difference between a container and a virtual machine?
- **Container**: Shares host OS kernel, lightweight, fast startup, less isolation
- **VM**: Has its own OS, heavier, slower startup, more isolation

### 4. What is a Docker image?
A Docker image is a read-only template used to create containers. It's built from a Dockerfile and contains all dependencies needed to run an application.

### 5. What is a Dockerfile?
A Dockerfile is a text file containing instructions to build a Docker image. It defines the base image, dependencies, and commands to set up the container.

### 6. How do you build a Docker image?
```bash
docker build -t <tag> .
docker build -f <dockerfile> -t <tag> .
```

### 7. How do you run a container?
```bash
docker run <image>
docker run -d <image>  # Detached mode
docker run -it <image> /bin/bash  # Interactive
```

### 8. How do you list running containers?
```bash
docker ps
docker ps -a  # All containers
```

### 9. How do you stop a container?
```bash
docker stop <container>
docker kill <container>  # Force stop
```

### 10. How do you start a stopped container?
```bash
docker start <container>
```

### 11. How do you remove a container?
```bash
docker rm <container>
docker rm -f <container>  # Force remove running container
```

### 12. How do you view container logs?
```bash
docker logs <container>
docker logs -f <container>  # Follow logs
```

### 13. How do you execute a command in a running container?
```bash
docker exec -it <container> /bin/bash
docker exec <container> <command>
```

### 14. What is the difference between `docker run` and `docker start`?
- `docker run`: Creates and starts a new container
- `docker start`: Starts an existing stopped container

### 15. What is the difference between `docker stop` and `docker kill`?
- `docker stop`: Gracefully stops container (SIGTERM, then SIGKILL)
- `docker kill`: Immediately terminates container (SIGKILL)

### 16. What is the difference between `docker exec` and `docker attach`?
- `docker exec`: Runs new command in running container (creates new process)
- `docker attach`: Attaches to main process (if it exits, container stops)

### 17. How do you list Docker images?
```bash
docker images
docker images -a
```

### 18. How do you remove a Docker image?
```bash
docker rmi <image>
docker rmi -f <image>  # Force remove
```

### 19. How do you pull an image from Docker Hub?
```bash
docker pull <image>
docker pull <image>:<tag>
```

### 20. How do you push an image to Docker Hub?
```bash
docker push <image>
```

### 21. What is Docker Hub?
Docker Hub is a cloud-based registry service where you can find and share container images. It's the default registry for Docker.

### 22. What is a Docker volume?
A Docker volume is a mechanism for persisting data generated by containers. Volumes are managed by Docker and can be shared among containers.

### 23. How do you create a volume?
```bash
docker volume create <name>
```

### 24. How do you use a volume?
```bash
docker run -v <volume-name>:<container-path> <image>
docker run --mount type=volume,source=<volume>,target=<path> <image>
```

### 25. What is the difference between volumes and bind mounts?
- **Volumes**: Managed by Docker, stored in Docker's directory, portable
- **Bind Mounts**: Direct mapping to host filesystem, less portable

### 26. How do you map a port?
```bash
docker run -p 8080:80 <image>
docker run -p <host-port>:<container-port> <image>
```

### 27. How do you set environment variables?
```bash
docker run -e VAR=value <image>
docker run --env-file .env <image>
```

### 28. What is Docker Compose?
Docker Compose is a tool for defining and running multi-container Docker applications using a YAML file.

### 29. How do you start services with Docker Compose?
```bash
docker-compose up
docker-compose up -d  # Detached mode
```

### 30. How do you stop services with Docker Compose?
```bash
docker-compose down
docker-compose stop
```

### 31. What is the difference between `docker-compose up` and `docker-compose start`?
- `docker-compose up`: Creates and starts containers
- `docker-compose start`: Starts existing containers

### 32. What is `.dockerignore`?
`.dockerignore` is a file that specifies which files should be excluded from the build context, similar to `.gitignore`.

### 33. What is the difference between `COPY` and `ADD` in Dockerfile?
- **COPY**: Simple file copy from host to container
- **ADD**: Can copy from URLs and automatically extract tar files

### 34. What is the difference between `CMD` and `ENTRYPOINT`?
- **CMD**: Default command/parameters (can be overridden)
- **ENTRYPOINT**: Command that always runs (parameters can be appended)

### 35. What is `WORKDIR` in Dockerfile?
`WORKDIR` sets the working directory for subsequent instructions in the Dockerfile.

## Medium Level (Questions 36-70)

### 36. Explain Docker architecture components.
- **Docker Daemon**: Background service managing containers
- **Docker Client**: CLI tool to interact with daemon
- **Docker Registry**: Repository for Docker images (Docker Hub, etc.)
- **Docker Images**: Read-only templates
- **Docker Containers**: Running instances of images

### 37. What is a Docker registry?
A Docker registry is a storage and distribution system for Docker images. Examples: Docker Hub, AWS ECR, Google Container Registry.

### 38. What is image layering?
Docker images are built in layers. Each instruction in a Dockerfile creates a new layer. Layers are cached and reused, making builds faster.

### 39. How do you reduce Docker image size?
- Use multi-stage builds
- Use minimal base images (alpine)
- Remove unnecessary files
- Combine RUN commands
- Use `.dockerignore`
- Remove package managers after installation

### 40. What is a multi-stage build?
Multi-stage builds allow you to use multiple `FROM` statements in a Dockerfile. Useful for:
- Reducing final image size
- Separating build and runtime environments
- Keeping build tools out of production image

### 41. How do you create a multi-stage build?
```dockerfile
FROM node:18 AS builder
WORKDIR /app
COPY . .
RUN npm run build

FROM node:18-alpine
COPY --from=builder /app/dist ./dist
CMD ["node", "dist/index.js"]
```

### 42. What are Dockerfile best practices?
- Use multi-stage builds
- Minimize layers
- Use `.dockerignore`
- Don't run as root
- Use specific tags (not `latest`)
- Order instructions from least to most frequently changing
- Use cache effectively

### 43. Why should you avoid running containers as root?
Running as root poses security risks. If container is compromised, attacker has root access. Best practice is to create and use a non-root user.

### 44. How do you create a non-root user in Dockerfile?
```dockerfile
RUN adduser -D -s /bin/sh appuser
USER appuser
```

### 45. What is a named volume?
A named volume is a volume with a specific name that can be referenced and reused across containers.

### 46. How do you persist data in Docker?
- Volumes (recommended)
- Bind mounts
- tmpfs mounts (in-memory)

### 47. What are Docker network types?
- **bridge**: Default network for containers on same host
- **host**: Uses host's network stack
- **none**: No networking
- **overlay**: For multi-host networking (Swarm)
- **macvlan**: Assigns MAC address to container

### 48. How do containers communicate?
Containers on the same network can communicate using container names as hostnames. Docker provides DNS resolution for containers.

### 49. What is the default network driver?
The default network driver is `bridge`, which creates an internal network on the host.

### 50. How do you create a network?
```bash
docker network create <name>
```

### 51. How do you connect a container to a network?
```bash
docker run --network <network> <image>
docker network connect <network> <container>
```

### 52. How do you scale services in Docker Compose?
```bash
docker-compose scale <service>=<number>
# Or in docker-compose.yml v3+, use deploy.replicas
```

### 53. What is the difference between `docker save` and `docker export`?
- `docker save`: Saves one or more images to tar archive
- `docker export`: Exports container's filesystem to tar archive

### 54. How do you save an image?
```bash
docker save <image> -o file.tar
```

### 55. How do you load an image?
```bash
docker load -i file.tar
```

### 56. Explain Docker health checks.
Health checks allow Docker to check if a container is still working. Defined in Dockerfile with `HEALTHCHECK` or with `--health-cmd` flag.

### 57. How do you add a health check?
```dockerfile
HEALTHCHECK --interval=30s --timeout=3s --retries=3 \
  CMD curl -f http://localhost/health || exit 1
```

### 58. What is the difference between `docker build` and `docker commit`?
- `docker build`: Builds image from Dockerfile (reproducible)
- `docker commit`: Creates image from container changes (not recommended)

### 59. How do you optimize Docker build time?
- Leverage layer caching
- Order Dockerfile instructions from least to most changing
- Use build cache
- Use multi-stage builds
- Minimize context size with `.dockerignore`

### 60. What is Docker Swarm?
Docker Swarm is Docker's native clustering and orchestration tool. It allows you to manage a cluster of Docker hosts.

### 61. How do you initialize a Swarm?
```bash
docker swarm init
```

### 62. How do you join a Swarm?
```bash
docker swarm join --token <token> <manager-ip>:2377
```

### 63. What is a Docker service?
A Docker service is a container running in Swarm mode, managed by Docker Swarm.

### 64. How do you create a service?
```bash
docker service create --replicas 3 <image>
```

### 65. How do you view services?
```bash
docker service ls
docker service ps <service>
```

### 66. What is Docker BuildKit?
BuildKit is an improved backend for building Docker images, providing better performance and features.

### 67. How do you enable BuildKit?
```bash
export DOCKER_BUILDKIT=1
docker build ...
```

### 68. What is the difference between `docker system prune` and `docker system prune -a`?
- `docker system prune`: Removes unused containers, networks, images (dangling), and build cache
- `docker system prune -a`: Also removes all unused images (not just dangling)

### 69. How do you view Docker disk usage?
```bash
docker system df
```

### 70. How do you inspect a container?
```bash
docker inspect <container>
docker inspect <image>
```

## High/Advanced Level (Questions 71-100)

### 71. What are Docker security best practices?
- Don't run as root
- Use official/base images
- Scan images for vulnerabilities
- Keep images updated
- Use minimal base images
- Limit container capabilities
- Use read-only filesystems where possible
- Don't store secrets in images

### 72. What is the difference between `--privileged` and `--cap-add`?
- `--privileged`: Gives container all capabilities (dangerous)
- `--cap-add`: Adds specific capabilities (more secure)

### 73. How do you run a container with limited capabilities?
```bash
docker run --cap-drop ALL --cap-add NET_BIND_SERVICE <image>
```

### 74. How do you run a container with read-only filesystem?
```bash
docker run --read-only <image>
```

### 75. What is Docker Content Trust?
Docker Content Trust provides cryptographic signatures for images, ensuring image integrity.

### 76. How do you enable Content Trust?
```bash
export DOCKER_CONTENT_TRUST=1
```

### 77. What is Docker secrets?
Docker secrets is a secure way to store sensitive data like passwords, tokens, and keys in Swarm mode.

### 78. How do you create a secret?
```bash
echo "mypassword" | docker secret create my_secret -
```

### 79. What is Docker configs?
Docker configs allows you to store non-sensitive configuration files in Swarm mode.

### 80. What is Docker overlay network?
Overlay network enables communication between containers on different Docker hosts in a Swarm.

### 81. How do you create an overlay network?
```bash
docker network create --driver overlay <name>
```

### 82. What is Docker stack?
A Docker stack is a group of services that make up an application, defined in a Compose file.

### 83. How do you deploy a stack?
```bash
docker stack deploy -c docker-compose.yml <stack-name>
```

### 84. What is Docker plugin?
Docker plugins extend Docker functionality, such as volume plugins, network plugins, etc.

### 85. What is Docker context?
Docker context allows you to manage connections to multiple Docker daemons.

### 86. How do you switch Docker context?
```bash
docker context use <context-name>
```

### 87. What is BuildKit cache mounts?
BuildKit cache mounts allow you to cache directories between builds for faster builds.

### 88. How do you use cache mounts?
```dockerfile
RUN --mount=type=cache,target=/root/.npm npm install
```

### 89. What is Docker BuildKit secrets?
BuildKit secrets allow you to securely pass secrets during build without including them in the image.

### 90. How do you use BuildKit secrets?
```dockerfile
RUN --mount=type=secret,id=mysecret cat /run/secrets/mysecret
```

### 91. What is Docker rootless mode?
Rootless mode allows running Docker daemon and containers without root privileges.

### 92. How do you enable rootless Docker?
Install Docker in rootless mode using the rootless installation script.

### 93. What is Docker Desktop?
Docker Desktop is a GUI application for Mac and Windows that includes Docker Engine, CLI, and other tools.

### 94. What is Docker Machine?
Docker Machine is a tool that lets you install Docker Engine on virtual hosts and manage them.

### 95. What is Docker Compose v3 vs v2?
v3 is designed for Swarm mode and includes features like `deploy` section, while v2 is for standalone Docker.

### 96. What is Docker BuildKit frontend?
BuildKit frontend allows using different syntaxes for Dockerfiles, like Dockerfile, Buildpacks, etc.

### 97. What is Docker Buildx?
Docker Buildx is an extended build command that supports advanced features like multi-platform builds.

### 98. How do you build for multiple platforms?
```bash
docker buildx build --platform linux/amd64,linux/arm64 -t <image> .
```

### 99. What is Docker layer caching?
Layer caching stores intermediate layers from previous builds, allowing faster subsequent builds.

### 100. How do you debug a Docker container?
```bash
docker logs <container>        # Check logs
docker exec -it <container> sh  # Access shell
docker inspect <container>     # Inspect configuration
docker stats <container>       # Resource usage
```
